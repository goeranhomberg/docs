"use strict";(self.webpackChunkevcc_docs=self.webpackChunkevcc_docs||[]).push([[923],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return p}});var r=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=r.createContext({}),c=function(e){var n=r.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},s=function(e){var n=c(e.components);return r.createElement(d.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,d=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=c(t),p=i,f=m["".concat(d,".").concat(p)]||m[p]||u[p]||a;return t?r.createElement(f,l(l({ref:n},s),{},{components:t})):r.createElement(f,l({ref:n},s))}));function p(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,l=new Array(a);l[0]=m;var o={};for(var d in n)hasOwnProperty.call(n,d)&&(o[d]=n[d]);o.originalType=e,o.mdxType="string"==typeof e?e:i,l[1]=o;for(var c=2;c<a;c++)l[c]=t[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},55947:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return d},metadata:function(){return c},toc:function(){return s},default:function(){return m}});var r=t(87462),i=t(63366),a=(t(67294),t(3905)),l=["components"],o={sidebar_position:7},d="hems",c={unversionedId:"reference/configuration/hems",id:"reference/configuration/hems",isDocsHomePage:!1,title:"hems",description:"evcc kann in bestehende Home Energy Management Systeme (HEMS) integriert werden. Momentan wird der SMA Sunny Home Manager 2.0 (SHM) unterst\xfctzt!",source:"@site/docs/reference/configuration/hems.md",sourceDirName:"reference/configuration",slug:"/reference/configuration/hems",permalink:"/docs/reference/configuration/hems",editUrl:"https://github.com/evcc-io/docs/tree/main/docs/reference/configuration/hems.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"vehicles",permalink:"/docs/reference/configuration/vehicles"},next:{title:"uri",permalink:"/docs/reference/configuration/uri"}},s=[{value:"Erforderliche Parameter",id:"erforderliche-parameter",children:[{value:"<code>type</code>",id:"type",children:[],level:3}],level:2},{value:"Optionale Parameter",id:"optionale-parameter",children:[{value:"<code>allowcontrol</code>",id:"allowcontrol",children:[],level:3}],level:2},{value:"Optionale SMA Parameter",id:"optionale-sma-parameter",children:[{value:"<code>vendorid</code>",id:"vendorid",children:[],level:3},{value:"<code>deviceid</code>",id:"deviceid",children:[],level:3}],level:2},{value:"Unterst\xfctzte HEMS",id:"unterst\xfctzte-hems",children:[{value:"<code>sma</code>",id:"sma",children:[],level:3}],level:2}],u={toc:s};function m(e){var n=e.components,t=(0,i.Z)(e,l);return(0,a.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"hems"},(0,a.kt)("inlineCode",{parentName:"h1"},"hems")),(0,a.kt)("p",null,"evcc kann in bestehende Home Energy Management Systeme (HEMS) integriert werden. Momentan wird der SMA Sunny Home Manager 2.0 (SHM) unterst\xfctzt!"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Beispiel"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"hems:\n  type: sma\n  ...\n")),(0,a.kt)("p",null,"Im folgenden werden nun alle m\xf6glichen Parameter erkl\xe4rt."),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"erforderliche-parameter"},"Erforderliche Parameter"),(0,a.kt)("h3",{id:"type"},(0,a.kt)("inlineCode",{parentName:"h3"},"type")),(0,a.kt)("p",null,"Definiert das HEMS System."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"M\xf6gliche Werte"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"sma"),": F\xfcr den SMA Sunny Home Manager 2.0. Siehe ",(0,a.kt)("a",{parentName:"li",href:"#sma"},(0,a.kt)("inlineCode",{parentName:"a"},"sma"))," Definition")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Beispiel"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"  type: sma\n")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"optionale-parameter"},"Optionale Parameter"),(0,a.kt)("h3",{id:"allowcontrol"},(0,a.kt)("inlineCode",{parentName:"h3"},"allowcontrol")),(0,a.kt)("p",null,"Definiert ob das definierte HEMS die Ladesteuerung von evcc \xfcbernehmen soll."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"M\xf6gliche Werte"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"true"),": Hiermit kann das Verh\xe4ltnis von Netzstrom zu PV Leistung f\xfcr den Modus ",(0,a.kt)("strong",{parentName:"li"},"Min+PV"),' im Sunny Portal \xfcber den Slider "Optional energy demand" eingestellt werden. Falls die notwendige PV Leistung nicht verf\xfcgbar ist, wird das Laden wie im Modus ',(0,a.kt)("strong",{parentName:"li"},"PV")," unterbrochen. Den Slider also ganz nach links zu schieben, bewirkt dass der Modus ",(0,a.kt)("strong",{parentName:"li"},"Min+PV")," wie beschrieben funktioniert. Wenn der Slider ganz nach rechts geschoben wird, verh\xe4llt sich der Modus ",(0,a.kt)("strong",{parentName:"li"},"Min+PV")," wie der ",(0,a.kt)("strong",{parentName:"li"},"PV")," Modus."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"false"),": Der SHM kann die Lademodi nicht beeinflussen, diese werden nur von evcc gesteuert.")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"optionale-sma-parameter"},"Optionale SMA Parameter"),(0,a.kt)("p",null,"evcc meldet jeden Ladepunkt an den SHM als eigenst\xe4ndiges Device. Die Device ID wird dabei von evcc generiert."),(0,a.kt)("p",null,"Die Device ID ist ein HEX-String und setzt sich wie folgt zusammen"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"F-AAAAAAAA-BBBBBBBBBBBB-00\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"F: Vendor ID Type, fest definiert"),(0,a.kt)("li",{parentName:"ul"},"AAAAAAAA: Siehe ",(0,a.kt)("inlineCode",{parentName:"li"},"vendorid")),(0,a.kt)("li",{parentName:"ul"},"BBBBBBBBBBBB: Siehe ",(0,a.kt)("inlineCode",{parentName:"li"},"deviceid")),(0,a.kt)("li",{parentName:"ul"},"00: Sub Device ID, fest definiert")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"vendorid"},(0,a.kt)("inlineCode",{parentName:"h3"},"vendorid")),(0,a.kt)("p",null,"Definiert die VendorID die f\xfcr die Erstellung der Device ID verwendet wird. Wenn in der Konfiguration keine Vendor ID angegeben wird, wird eine fest definierte ID verwendet."),(0,a.kt)("p",null,"HEX-String, L\xe4nge 8 Zeichen"),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"deviceid"},(0,a.kt)("inlineCode",{parentName:"h3"},"deviceid")),(0,a.kt)("p",null,"Definiert die Ger\xe4te ID, die f\xfcr die Erstellung der Device ID verwendet wird. Wenn keine Ger\xe4te ID angegeben wird, generiert evcc eine zuf\xe4llige Ger\xe4te ID in Abh\xe4ngigkeit auf den aktuellen Computer."),(0,a.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Wenn evcc auf einen anderen Computer umgezogen wird, \xe4ndert sich auch die zuf\xe4llig erzeugte Ger\xe4te ID. Der SHM wird evcc in diesem Fall als neues Ger\xe4t erkennen.\nUm dies zu verhindern, sollte die Ger\xe4te ID fest definiert werden."),(0,a.kt)("p",{parentName:"div"},"Wenn evcc als Docker Container ausgef\xfchrt wird, muss hierf\xfcr ",(0,a.kt)("inlineCode",{parentName:"p"},"machine-id")," gemounted werden. Siehe auch ",(0,a.kt)("a",{parentName:"p",href:"../../installation/docker"},"Docker Konfiguration")))),(0,a.kt)("p",null,"HEX-String, L\xe4nge: 12 Zeichen"),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"unterst\xfctzte-hems"},"Unterst\xfctzte HEMS"),(0,a.kt)("h3",{id:"sma"},(0,a.kt)("inlineCode",{parentName:"h3"},"sma")),(0,a.kt)("p",null,"Bietet Unterst\xfctzung f\xfcr den SMA Sunna Home Manager 2.0 (SHM)."),(0,a.kt)("p",null,"Durch die Integration k\xf6nnen die ",(0,a.kt)("a",{parentName:"p",href:"loadpoints"},"Ladepunkte")," dem SHM hinzugef\xfcgt werden und somit z.B. f\xfcr dessen Steuerung ber\xfccksichtigt werden."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Beispiel"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"hems:\n  type: sma\n  allowcontrol: false # set true to allow SHM controlling charger in PV modes\n")))}m.isMDXComponent=!0}}]);